// Copyright (c) 2023 The Stdlib Authors. License is Apache-2.0: http://www.apache.org/licenses/LICENSE-2.0
/// <reference types="./index.d.ts" />
import e from"https://cdn.jsdelivr.net/gh/stdlib-js/slice-base-normalize-multi-slice@v0.1.0-esm/index.mjs";import s from"https://cdn.jsdelivr.net/gh/stdlib-js/slice-base-nonreduced-dimensions@esm/index.mjs";import r from"https://cdn.jsdelivr.net/gh/stdlib-js/slice-base-shape@v0.1.0-esm/index.mjs";import n from"https://cdn.jsdelivr.net/gh/stdlib-js/array-base-take@v0.1.0-esm/index.mjs";import t from"https://cdn.jsdelivr.net/gh/stdlib-js/array-base-zeros@v0.1.0-esm/index.mjs";import i from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-numel@v0.1.0-esm/index.mjs";import d from"https://cdn.jsdelivr.net/gh/stdlib-js/error-tools-fmtprodmsg@v0.1.0-esm/index.mjs";import a from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-buffer@v0.1.0-esm/index.mjs";function o(o,m,l){var h,f,j,c,p,u,v,b,g,y;if(j=o.dtype,c=o.shape,h=o.strides,f=o.offset,p=o.order,v=c.length,m.ndims!==v)throw new RangeError(d("invalid argument. Number of slice dimensions does not match the number of array dimensions. Array shape: (%s). Slice dimensions: %u.",c.join(","),m.ndims));if(b=o.constructor,0===v)return new b(j,o.data,c,h,f,p,{readonly:!0});if(u=s(m),(y=e(m,c,!0)).code){if(l)throw new RangeError(d("invalid argument. Slice exceeds array bounds. Array shape: (%s).",c.join(",")));y=e(m,c,!1),g=r(y),i(n(g,u))>0&&(g=t(g.length))}else g=r(y);return 0===i(g)?function(e,s,r,n){var i,d;return i=0===(d=r.length)?[0]:t(d),new e(s,a(s,0),r,i,0,n,{readonly:!0})}(b,j,n(g,u),p):(f=function(e,s,r){var n,t,i;for(n=e.data,t=r,i=0;i<n.length;i++)t+=s[i]*n[i].start;return t}(y,h,f),0===(g=n(g,u)).length?new b(j,o.data,[],[0],f,p,{readonly:!0}):(h=function(e,s,r){var n,t,i,d;for(n=e.data,t=[],i=0;i<r.length;i++)d=r[i],t.push(s[d]*n[d].step);return t}(y,h,u),new b(j,o.data,g,h,f,p,{readonly:!0})))}export{o as default};
//# sourceMappingURL=index.mjs.map
