// Copyright (c) 2023 The Stdlib Authors. License is Apache-2.0: http://www.apache.org/licenses/LICENSE-2.0
/// <reference types="./index.d.ts" />
import e from"https://cdn.jsdelivr.net/gh/stdlib-js/slice-base-normalize-multi-slice@v0.1.0-esm/index.mjs";import s from"https://cdn.jsdelivr.net/gh/stdlib-js/slice-base-nonreduced-dimensions@esm/index.mjs";import r from"https://cdn.jsdelivr.net/gh/stdlib-js/slice-base-shape@esm/index.mjs";import n from"https://cdn.jsdelivr.net/gh/stdlib-js/array-base-take@v0.1.0-esm/index.mjs";import t from"https://cdn.jsdelivr.net/gh/stdlib-js/array-base-zeros@esm/index.mjs";import i from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-numel@esm/index.mjs";import d from"https://cdn.jsdelivr.net/gh/stdlib-js/error-tools-fmtprodmsg@esm/index.mjs";import a from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-buffer@esm/index.mjs";function o(o,m,l){var h,f,j,c,p,u,b,g,v,y;if(j=o.dtype,c=o.shape,h=o.strides,f=o.offset,p=o.order,b=c.length,m.ndims!==b)throw new RangeError(d("invalid argument. Number of slice dimensions does not match the number of array dimensions. Array shape: (%s). Slice dimensions: %u.",c.join(","),m.ndims));if(g=o.constructor,0===b)return new g(j,o.data,c,h,f,p,{readonly:!0});if(u=s(m),(y=e(m,c,!0)).code){if(l)throw new RangeError(d("invalid argument. Slice exceeds array bounds. Array shape: (%s).",c.join(",")));y=e(m,c,!1),v=r(y),i(n(v,u))>0&&(v=t(v.length))}else v=r(y);return 0===i(v)?function(e,s,r,n){var i,d;return i=0===(d=r.length)?[0]:t(d),new e(s,a(s,0),r,i,0,n,{readonly:!0})}(g,j,n(v,u),p):(f=function(e,s,r){var n,t,i;for(n=e.data,t=r,i=0;i<n.length;i++)t+=s[i]*n[i].start;return t}(y,h,f),0===(v=n(v,u)).length?new g(j,o.data,[],[0],f,p,{readonly:!0}):(h=function(e,s,r){var n,t,i,d;for(n=e.data,t=[],i=0;i<r.length;i++)d=r[i],t.push(s[d]*n[d].step);return t}(y,h,u),new g(j,o.data,v,h,f,p,{readonly:!0})))}export{o as default};
//# sourceMappingURL=index.mjs.map
