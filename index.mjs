// Copyright (c) 2023 The Stdlib Authors. License is Apache-2.0: http://www.apache.org/licenses/LICENSE-2.0
/// <reference types="./index.d.ts" />
import e from"https://cdn.jsdelivr.net/gh/stdlib-js/slice-base-normalize-multi-slice@v0.1.0-esm/index.mjs";import s from"https://cdn.jsdelivr.net/gh/stdlib-js/slice-base-nonreduced-dimensions@esm/index.mjs";import r from"https://cdn.jsdelivr.net/gh/stdlib-js/slice-base-shape@v0.1.0-esm/index.mjs";import n from"https://cdn.jsdelivr.net/gh/stdlib-js/array-base-take@v0.1.0-esm/index.mjs";import t from"https://cdn.jsdelivr.net/gh/stdlib-js/array-base-zeros@v0.1.0-esm/index.mjs";import i from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-vind2bind@v0.1.0-esm/index.mjs";import d from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-numel@v0.1.0-esm/index.mjs";import a from"https://cdn.jsdelivr.net/gh/stdlib-js/error-tools-fmtprodmsg@v0.1.0-esm/index.mjs";import o from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-sub2ind@v0.1.0-esm/index.mjs";import m from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-buffer@v0.1.0-esm/index.mjs";function l(l,h,p){var j,f,c,u,v,b,g,y,x,w;if(c=l.dtype,u=l.shape,j=l.strides,f=l.offset,v=l.order,g=u.length,h.ndims!==g)throw new RangeError(a("invalid argument. Number of slice dimensions does not match the number of array dimensions. Array shape: (%s). Slice dimensions: %u.",u.join(","),h.ndims));if(y=l.constructor,0===g)return new y(c,l.data,u,j,f,v,{readonly:!0});if(b=s(h),(w=e(h,u,!0)).code){if(p)throw new RangeError(a("invalid argument. Slice exceeds array bounds. Array shape: (%s).",u.join(",")));w=e(h,u,!1),x=r(w),d(n(x,b))>0&&(x=t(x.length))}else x=r(w);return 0===d(x)?function(e,s,r,n){var i,d;return i=0===(d=r.length)?[0]:t(d),new e(s,m(s,0),r,i,0,n,{readonly:!0})}(y,c,n(x,b),v):(f=i(u,j,f,v,function(e,s,r,n){var t,i,d;for(t=e.data,i=[s,r,n],d=0;d<t.length;d++)i.push(t[d].start);return i.push("throw"),o.apply(null,i)}(w,u,j,0),"throw"),0===(x=n(x,b)).length?new y(c,l.data,[],[0],f,v,{readonly:!0}):(j=function(e,s,r){var n,t,i,d;for(n=e.data,t=[],i=0;i<r.length;i++)d=r[i],t.push(s[d]*n[d].step);return t}(w,j,b),new y(c,l.data,x,j,f,v,{readonly:!0})))}export{l as default};
//# sourceMappingURL=index.mjs.map
